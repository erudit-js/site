var oe=Object.defineProperty;var se=(a,e,t)=>e in a?oe(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var D=(a,e,t)=>se(a,typeof e!="symbol"?e+"":e,t);import{f as P,g as I,c as m,o as r,a as h,D as X,n as c,t as T,k as s,F as M,r as x,b as g,d as j,N as F,R as Z,_ as A,Q as f,aa as le,v as y,w as k,ay as ae,aB as re,z as ie,H as O,ao as ce,O as G,x as q,aC as ue,aD as pe,S as me,aq as ve}from"./CiBNX5Fz.js";import{i as H,h as de}from"./TO1_kQR6.js";import"./jTRQ5ZsA.js";import{u as J}from"./XN71EEWC.js";import{u as he,a as _e}from"./7EQBSnv5.js";import{P as ge}from"./CGPOicog.js";import{_ as fe}from"./C8Tpl-oc.js";const we={easy:{color:"light-dark( #73af00, #79b800)"},medium:{color:"light-dark( #db9c00, #ffc01e)"},hard:{color:"light-dark( #dc2f51, #ff375f)"}},ye=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\r
    <path d="M6.125 12.15q.65-1.65 1.563-3.175T9.75 6.1l-1.3-.275q-.5-.1-.975.05t-.825.5L3.5 9.525q-.375.375-.288.9t.588.725zm14.7-9.75q-2.65-.125-5.037 1.025T11.525 6.45q-1.2 1.2-2.113 2.6T7.826 12q-.125.325-.125.663t.25.587l3.125 3.125q.25.25.588.25t.662-.125q1.55-.675 2.95-1.588t2.6-2.112q1.875-1.875 3.025-4.262T21.925 3.5q0-.2-.1-.4t-.25-.35t-.35-.25t-.4-.1m-6.35 7.45q-.575-.575-.575-1.412t.575-1.413t1.413-.575t1.412.575t.575 1.413T17.3 9.85t-1.412.575t-1.413-.575m-2.3 8.35l1 2.325q.2.5.725.6t.9-.275l3.15-3.15q.35-.35.5-.837t.05-.988l-.25-1.3q-1.375 1.15-2.887 2.063T12.175 18.2M4.05 16.05q.875-.875 2.125-.888t2.125.863t.875 2.125t-.875 2.125q-1.2 1.2-2.838 1.425t-3.287.45q.225-1.65.463-3.287T4.05 16.05"/>\r
</svg>`,be=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\r
    <path d="M12.67 13.67c-.47.46-1.04.83-1.67 1.06V23H8v-2H5v-3h3v-3.28c-1.74-.62-3-2.26-3-4.22C5 8 7 6 9.5 6h.1c-.47.95-.68 2-.57 3.08c-.59.2-1.03.76-1.03 1.42c0 .83.67 1.5 1.5 1.5c.23 0 .45-.06.65-.15c.64.84 1.52 1.47 2.52 1.82m8.06 5.77l-2.76 1.16l-.78-1.84l-2.76 1.17l-1.17-2.77L16.03 16l-1.27-3c-1.85.08-3.65-.95-4.41-2.75c-.96-2.29.12-4.93 2.41-5.9c.24-.1.5-.17.74-.23C12.84 2.87 11.5 2 10 2C7.79 2 6 3.79 6 6v.24c-.3.26-.6.58-.85.91C5.06 6.78 5 6.4 5 6c0-2.76 2.24-5 5-5s5 2.24 5 5c0 1.42-.6 2.67-1.55 3.57c.42.43 1.05.56 1.63.31c.77-.32 1.12-1.2.8-1.96a1 1 0 0 0-.14-.26C15.9 7.13 16 6.58 16 6c0-.63-.1-1.24-.28-1.81c1.28.36 2.38 1.25 2.93 2.57c.76 1.8.24 3.81-1.15 5.05zM13 8.6c.37-.41.65-.89.82-1.42c-.54.27-.85.82-.82 1.42"/>\r
</svg>`,$e=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256">\r
    <path d="M174.63 81.37a80 80 0 1 0-93.26 93.26a80 80 0 1 0 93.26-93.26M32 96a64 64 0 0 1 126-16a80.08 80.08 0 0 0-77.95 78A64.11 64.11 0 0 1 32 96m128 128a64.11 64.11 0 0 1-62-48a80.08 80.08 0 0 0 78-78a64 64 0 0 1-16 126"/>\r
</svg>`,Ce='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="none" fill-rule="evenodd"><path d="m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"/><path fill="currentColor" d="M17 3a2 2 0 0 1 1.492.668l.108.132l3.704 4.939a2 2 0 0 1-.012 2.416l-.108.13l-9.259 10.184a1.25 1.25 0 0 1-1.753.096l-.097-.096l-9.259-10.185a2 2 0 0 1-.215-2.407l.095-.138L5.4 3.8a2 2 0 0 1 1.43-.793L7 3zm-2.477 8H9.477L12 17.307zm5.217 0h-3.063l-2.406 6.015zM7.323 11H4.261l5.468 6.015zm5.059-6h-.764l-2 4h4.764zM17 5h-2.382l2 4H20zM9.382 5H7L4 9h3.382z"/></g></svg>',qe={applied:{icon:ye},method:{icon:be},inter:{icon:$e},pretty:{icon:Ce}},Me=["title"],Ie=["title"],Pe=P({__name:"ProblemContainer",props:{node:{},info:{}},async setup(a){let e,t;const n=H(),u=([e,t]=I(()=>J()),e=await e,t(),e);return(o,p)=>{var _;const b=F;return r(),m("div",{class:c(o.$style.problemContainer)},[h("div",{class:c(o.$style.info)},[h("div",{class:c(o.$style.top)},[h("div",{class:c(o.$style.title)},T(s(n)(o.info.title)),3),h("div",{class:c(o.$style.asideSection)},[(r(!0),m(M,null,x((_=o.info.attributes)==null?void 0:_.sort(),i=>(r(),m("div",{class:c(o.$style.attribute),title:s(u)(`attribute_explain.${i}`)},[g(b,{name:"attribute-icon",wrapper:"span",svg:s(qe)[i].icon},null,8,["svg"]),j(" "+T(s(u)(`attribute.${i}`)),1)],10,Me))),256)),h("div",{class:c(o.$style.level),title:s(u)("level_hint"),style:Z({"--levelColor":s(we)[o.info.level].color})},T(s(n)(s(u)(`level.${o.info.level}`))),15,Ie)],2)],2)],2),X(o.$slots,"default")],2)}}}),ze="_problemContainer_10n05_1",ke="_info_10n05_16",Te="_top_10n05_20",Ae="_title_10n05_34",Be="_asideSection_10n05_40",Re="_level_10n05_53",Se="_attribute_10n05_65",xe={problemContainer:ze,info:ke,top:Te,title:Ae,asideSection:Be,level:Re,attribute:Se},Ee={$style:xe},zt=A(Pe,[["__cssModules",Ee]]),Ve=P({__name:"ProblemAction",props:{active:{type:Boolean},icon:{},label:{}},setup(a){return(e,t)=>{const n=F;return r(),m("button",{class:c({[e.$style.problemAction]:!0,[e.$style.active]:e.active})},[g(n,{name:"problem-action-icon",wrapper:"span",svg:e.icon},null,8,["svg"]),j(" "+T(e.label),1)],2)}}}),je="_problemAction_1e24x_1",Fe="_active_1e24x_19",He={problemAction:je,active:Fe},Le={$style:He},K=A(Ve,[["__cssModules",Le]]),Ne=P({__name:"ProblemContentItem",props:{node:{},contentItem:{},generatedResult:{}},async setup(a){let e,t;const n=a,u=de(),o=f(0),p=f(!1),b=f(!1);le(()=>n.generatedResult,i=>_(i)),[e,t]=I(()=>_(n.generatedResult)),await e,t();async function _(i){if(i){if(p.value){b.value=!0;return}p.value=!0;try{const $=n.contentItem.source.replace(/\{\{\s*([^}]+)\s*\}\}/g,(z,B)=>{const R=B.trim(),w=i[R];return w===void 0?z:String(w)}),E=await u.transpiler.parser.parseBlocks($);b.value?(b.value=!1,p.value=!1,_(i)):(n.contentItem.blocks.setNodes(E),o.value++,p.value=!1)}catch($){throw p.value=!1,$}}}return(i,$)=>(r(),m("div",{class:c(i.$style.problemContentItem)},[(r(),y(ae,{suspensible:""},{default:k(()=>[(r(),y(s(fe),{key:o.value,node:i.contentItem.blocks},null,8,["node"]))]),_:1}))],2))}}),De="_problemContentItem_5ivkp_1",Oe={problemContentItem:De},Ge={$style:Oe},Ke=A(Ne,[["__cssModules",Ge]]),Ue=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
  <path d="M294.5,44.5c0-21.3-17.2-38.5-38.5-38.5s-38.5,17.2-38.5,38.5v173.1H44.5c-21.3,0-38.5,17.2-38.5,38.5s17.2,38.5,38.5,38.5h173.1v173.1c0,21.3,17.2,38.5,38.5,38.5s38.5-17.2,38.5-38.5v-173.1h173.1c21.3,0,38.5-17.2,38.5-38.5s-17.2-38.5-38.5-38.5h-173.1V44.5Z"/>
</svg>
`,Qe=P({__name:"Expander",props:{label:{}},setup(a){const e=H(),t=f(!1);return(n,u)=>{const o=F;return r(),m("section",{class:c({[n.$style.expander]:!0,[n.$style.opened]:t.value})},[h("header",{onClick:u[0]||(u[0]=p=>t.value=!t.value),class:c(n.$style.header)},[j(T(s(e)(n.label))+" ",1),h("button",{class:c(n.$style.switch)},[g(o,{name:"expander-switch",svg:Ue})],2)],2),h("main",{class:c(n.$style.main)},[h("div",{class:c(n.$style.content)},[X(n.$slots,"default")],2)],2)],2)}}}),Xe="_expander_1u0xw_1",Ze="_header_1u0xw_8",Je="_main_1u0xw_37",We="_opened_1u0xw_43",Ye={expander:Xe,header:Ze,switch:"_switch_1u0xw_19",main:Je,opened:We},et={$style:Ye},U=A(Qe,[["__cssModules",et]]),tt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="1 1 22 22">    <path d="M12 6a6 6 0 0 1 6 6c0 2.22-1.21 4.16-3 5.2V19a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-1.8c-1.79-1.04-3-2.98-3-5.2a6 6 0 0 1 6-6m2 15v1a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-1zm6-10h3v2h-3zM1 11h3v2H1zM13 1v3h-2V1zM4.92 3.5l2.13 2.14l-1.42 1.41L3.5 4.93zm12.03 2.13l2.12-2.13l1.43 1.43l-2.13 2.12z"></path></svg>',nt=`<svg version="1.2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 560">\r
    <path  d="m67.1 532q-15.4 0-25.7-10.4-10.4-10.3-10.4-25.7 0-15.3 10.4-25.7 10.3-10.3 25.7-10.3h288.5q15.4 0 25.7 10.3 10.4 10.4 10.4 25.7 0 15.4-10.4 25.7-10.3 10.4-25.7 10.4zm0-144.3q-15.3 0-25.7-10.4-10.3-10.3-10.3-25.7 0-15.3 10.3-25.7 10.4-10.3 25.7-10.3h505q15.4 0 25.7 10.3 10.4 10.4 10.4 25.7 0 15.4-10.4 25.7-10.3 10.4-25.7 10.4zm0-144.3q-15.3 0-25.7-10.3-10.3-10.4-10.3-25.7 0-15.4 10.3-25.7 10.4-10.4 25.7-10.4h505q15.4 0 25.7 10.4 10.4 10.3 10.4 25.7 0 15.3-10.4 25.7-10.3 10.3-25.7 10.3zm0-144.3q-15.3 0-25.7-10.3-10.3-10.4-10.3-25.7 0-15.4 10.3-25.7 10.4-10.4 25.7-10.4h505q15.4 0 25.7 10.4 10.4 10.3 10.4 25.7 0 15.3-10.4 25.7-10.3 10.3-25.7 10.3z"/>\r
</svg>`,ot=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="2 2 20 20">\r
    <path d="m10.6 16.6l7.05-7.05l-1.4-1.4l-5.65 5.65l-2.85-2.85l-1.4 1.4zM12 22q-2.075 0-3.9-.788t-3.175-2.137T2.788 15.9T2 12t.788-3.9t2.137-3.175T8.1 2.788T12 2t3.9.788t3.175 2.137T21.213 8.1T22 12t-.788 3.9t-2.137 3.175t-3.175 2.138T12 22m0-2q3.35 0 5.675-2.325T20 12t-2.325-5.675T12 4T6.325 6.325T4 12t2.325 5.675T12 20m0-8"></path>\r
</svg>`,st='<svg xmlns="http://www.w3.org/2000/svg" viewBox="1 1 16.97 16.97"><!-- Icon from HeroIcons by Refactoring UI Inc - https://github.com/tailwindlabs/heroicons/blob/master/LICENSE --><path fill="currentColor" d="M12 4.467c0-.405.262-.75.559-1.027c.276-.257.441-.584.441-.94c0-.828-.895-1.5-2-1.5s-2 .672-2 1.5c0 .362.171.694.456.953c.29.265.544.6.544.994a.97.97 0 0 1-1.024.974a40 40 0 0 1-3.014-.306a.75.75 0 0 0-.847.847q.21 1.49.306 3.014A.97.97 0 0 1 4.447 10c-.393 0-.729-.253-.994-.544C3.194 9.17 2.862 9 2.5 9C1.672 9 1 9.895 1 11s.672 2 1.5 2c.356 0 .683-.165.94-.441c.276-.297.622-.559 1.027-.559a.997.997 0 0 1 1.004 1.03a40 40 0 0 1-.319 3.734a.75.75 0 0 0 .64.842q1.575.219 3.184.318A.97.97 0 0 0 10 16.948c0-.394-.254-.73-.545-.995C9.171 15.693 9 15.362 9 15c0-.828.895-1.5 2-1.5s2 .672 2 1.5c0 .356-.165.683-.441.94c-.297.276-.559.622-.559 1.027a1 1 0 0 0 1.03 1.005q2.007-.075 3.961-.337a.75.75 0 0 0 .644-.644q.263-1.954.337-3.961A1 1 0 0 0 16.967 12c-.405 0-.75.262-1.027.559c-.257.276-.584.441-.94.441c-.828 0-1.5-.895-1.5-2s.672-2 1.5-2c.362 0 .694.17.953.455c.265.291.601.545.995.545a.97.97 0 0 0 .976-1.024a41 41 0 0 0-.318-3.184a.75.75 0 0 0-.842-.64q-1.842.247-3.734.319A.997.997 0 0 1 12 4.467"></path></svg>',lt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m0 0v2h2.8l-0.5 0.4q-1.2 1.2-1.7 2.6-0.6 1.4-0.6 2.9 0 2.8 1.7 5 1.6 2.1 4.3 2.9v-2.1q-1.8-0.7-2.9-2.3-1.1-1.5-1.1-3.5 0-1.1 0.4-2.1 0.4-1.1 1.4-2l0.2-0.2v2.4h2v-6zm10 0.3v2.1q1.8 0.6 2.9 2.2 1.1 1.5 1.1 3.5 0 1.1-0.4 2.1-0.5 1.1-1.3 2l-0.3 0.2v-2.4h-2v6h6v-2h-2.7l0.3-0.3q1.3-1.3 1.8-2.7 0.6-1.5 0.6-2.9 0-2.8-1.7-5-1.6-2.2-4.3-2.9z"/></svg>',Q={hint:{icon:tt},solution:{icon:nt},answer:{icon:ot},note:{icon:st},generate:{icon:lt}};function at(a){if(typeof a=="number")return a;let e=0;for(let t=0;t<a.length;t++)e=(e<<5)-e+a.charCodeAt(t),e|=0;return e}function rt(a){return function(){a|=0,a=a+2654435769|0;let e=a^a>>>16;return e=Math.imul(e,569420461),e=e^e>>>15,e=Math.imul(e,1935289751),(e=e^e>>>15)>>>0}}class it{constructor(e){D(this,"_rng");const t=at(e);this._rng=rt(t)}rng(){return this._rng()}boolean(){return this.rng()%2===0}integer(e,t){const n=t-e+1;return this.rng()%n+e}float(e,t,n){const u=t-e,o=this.rng()/4294967295*u+e;return parseFloat(o.toFixed(n))}shuffle(e){const t=[...e];for(let n=t.length-1;n>0;n--){const u=this.rng()%(n+1);[t[n],t[u]]=[t[u],t[n]]}return t}arrayElement(e){if(e.length===0)return;const t=this.rng()%e.length;return e[t]}arrayElements(e,t,n=!0){if(e.length===0)return[];const u=[];if(n){const o=this.shuffle(e);for(let p=0;p<t&&p<o.length;p++)u.push(o[p])}else for(let o=0;o<t;o++){const p=this.rng()%e.length;u.push(e[p])}return u}}const ct=["title"],ut=P({__name:"ProblemContent",props:{node:{},content:{},generatorContentPath:{}},async setup(a){let e,t;re(l=>({"67b696cb":E.value}));const n=a,u=H(),o=([e,t]=I(()=>J()),e=await e,t(),e),p=["hint","solution","answer","note"],b={hint:"hints",solution:"solution",answer:"answer",note:"note"},_=p.filter(l=>b[l]in n.content),i=f(),$=f(0),E=ie(()=>`${$.value}deg`),z=O(),B=O(),R=!!n.generatorContentPath,w=f(),V=f(!0);async function L(){$.value+=180,V.value?V.value=!1:w.value=String(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER));const l=new it(w.value),d=await z.value.generator(l);B.value=d}if(R){const d=([e,t]=I(()=>ce(()=>import("./Ccz1Xj3Q.js"),[],import.meta.url)),e=await e,t(),e).loaders[n.generatorContentPath];if(!d)throw new Error(`Problem generator loader not found for path: ${n.generatorContentPath}!`);z.value=([e,t]=I(()=>d()),e=await e,t(),e),w.value=z.value.defaultSeed,[e,t]=I(()=>L()),await e,t()}function W(){V.value=!0}const S=f(!1),Y=G("seedReference"),ee=G("seedPopup"),{floatingStyles:te}=he(Y,ee,{whileElementsMounted:_e,placement:"top"}),C=P({name:"ContentItem",props:{item:{type:Object,required:!0}},setup(l){return()=>ve(Ke,{node:n.node,contentItem:l.item,generatedResult:B.value})}});return(l,d)=>{const ne=me;return r(),m("div",{class:c(l.$style.problemContent)},[g(s(C),{item:l.content.description,class:c(l.$style.description)},null,8,["item","class"]),s(_).length>0?(r(),m("div",{key:0,class:c(l.$style.actions)},[(r(!0),m(M,null,x(s(_),v=>(r(),y(K,{icon:s(Q)[v].icon,label:s(o)(`action_${v}`),active:i.value===v,onClick:N=>i.value=i.value===v?void 0:v},null,8,["icon","label","active","onClick"]))),256)),s(R)?(r(),m("div",{key:0,ref:"seedReference",onTouchstart:d[1]||(d[1]=v=>S.value=!0),onMouseenter:d[2]||(d[2]=v=>S.value=!0),onMouseleave:d[3]||(d[3]=v=>S.value=!1)},[g(K,{icon:s(Q).generate.icon,label:s(o)("action_generate"),active:!1,onClick:L,class:c(l.$style.generateAction)},null,8,["icon","label","class"]),g(ne,null,{default:k(()=>[S.value?(r(),m("div",{key:0,ref:"seedPopup",class:c(l.$style.seedPopup),style:Z(s(te))},[ue(h("input",{type:"text","onUpdate:modelValue":d[0]||(d[0]=v=>w.value=v),onInput:W,title:s(o)("seed_explain")},null,40,ct),[[pe,w.value]])],6)):q("",!0)]),_:1})],544)):q("",!0)],2)):q("",!0),g(ge,{paneKey:i.value||Symbol()},{default:k(()=>[i.value?(r(),m("div",{key:0,class:c(l.$style.activeActionPane)},[["answer","note"].includes(i.value)?(r(),y(s(C),{key:0,item:l.content[i.value]},null,8,["item"])):i.value==="hint"?(r(),m(M,{key:1},[l.content.hints.length===1?(r(),y(s(C),{key:0,item:l.content.hints[0]},null,8,["item"])):(r(!0),m(M,{key:1},x(l.content.hints,(v,N)=>(r(),y(U,{class:c(l.$style.expander),label:`${s(o)("action_hint")} ${N+1}`},{default:k(()=>[g(s(C),{item:v},null,8,["item"])]),_:2},1032,["class","label"]))),256))],64)):i.value==="solution"?(r(),m(M,{key:2},[""in l.content.solution?(r(),y(s(C),{key:0,item:l.content.solution[""]},null,8,["item"])):q("",!0),(r(!0),m(M,null,x(Object.keys(l.content.solution).slice(""in l.content.solution?1:0),v=>(r(),y(U,{class:c(l.$style.expander),label:s(u)(v)},{default:k(()=>[g(s(C),{item:l.content.solution[v]},null,8,["item"])]),_:2},1032,["class","label"]))),256))],64)):q("",!0)],2)):q("",!0)]),_:1},8,["paneKey"])],2)}}}),pt="_problemContent_13i7j_1",mt="_description_13i7j_1",vt="_actions_13i7j_4",dt="_generateAction_13i7j_16",ht="_activeActionPane_13i7j_21",_t="_expander_13i7j_24",gt="_seedPopup_13i7j_33",ft={problemContent:pt,description:mt,actions:vt,generateAction:dt,activeActionPane:ht,expander:_t,seedPopup:gt},wt={$style:ft},kt=A(ut,[["__cssModules",wt]]);export{kt as P,zt as a};
