import{aI as M,aJ as T,aK as D,aL as x,aM as g,aN as F,f as m,c as l,o as t,F as S,r as A,l as i,n as R,_ as $,w as k,E as V,aO as j,m as v,aP as B,b,q as H,g as o,Z as W,U as N,B as C,a as E,t as L,aQ as U,aR as G,aS as P,aB as q,aT as z,aD as J,aU as K,aV as O}from"./DFMbmguZ.js";import{a as Q,c as Z,d as X,e as Y}from"./BaLSTJWT.js";function h(n){const e=n.name,a={...Q(),[x]:T,[D]:M}[e];if(!a)throw new Error(`Failed to find renderer for element "${e}"!`);return a}async function ee(n){var s;const r=(s=Z().preRenderData)==null?void 0:s[n.autoId];if(r){if(r.type==="error")throw new Error(r.message);return r.data}const d=h(n).createRenderData;return d?d(n):void 0}async function I(n){if(n instanceof g||n instanceof F)return{error:n.error};const e=h(n);try{return n.renderData=await ee(n),{ElementComponent:await e.component()}}catch(r){return{error:r instanceof Error?r:new Error(String(r))}}}const ne=m({__name:"RenderGroup",props:{node:{}},setup(n){return(e,r)=>(t(!0),l(S,null,A(e.node.children??[],a=>(t(),i($e,{node:a},null,8,["node"]))),256))}}),w=m({__name:"BlockFloat",props:{position:{}},setup(n){return(e,r)=>(t(),l("div",{class:R({"bitran-blockFloat":!0,[`bitran-blockFloat--${e.position}`]:!0})},null,2))}}),re={};function oe(n,e){return t(),i(j,{name:"bitran-transition--fade"},{default:k(()=>[V(n.$slots,"default")]),_:3})}const te=$(re,[["render",oe]]),ae={class:"bitran-blockAside"},se=["innerHTML"],ce=m({__name:"BlockAside",props:{node:{},hovered:{type:Boolean},error:{}},async setup(n){let e,r;const d=h(n.node),s=([e,r]=v(()=>B(d)),e=await e,r(),e);return(c,_)=>(t(),l("div",ae,[b(te,null,{default:k(()=>[c.hovered||c.error?(t(),l("div",{key:0,class:"bitran-blockAsideIcon",innerHTML:o(s)},null,8,se)):H("",!0)]),_:1})]))}}),de=["id"],ie={key:1,class:"bitran-block"},le={class:"bitran-blockMain"},ue={key:0},_e=m({__name:"Block",props:{node:{}},async setup(n){let e,r;const a=n,d=h(a.node),s=W("block"),c=N(!1),_=(()=>{if(!(a.node instanceof g))return""+a.node.id})(),{ElementComponent:p,error:u}=([e,r]=v(()=>I(a.node)),e=await e,r(),e);return C(()=>{s.value.addEventListener("mouseenter",()=>{c.value=!0}),s.value.addEventListener("mouseleave",()=>{c.value=!1})}),(f,y)=>(t(),l("div",{ref:"block",id:o(_),class:R({"bitran-blockContainer":!0,"bitran-blockContainer--hover":c.value,"bitran-error":o(u)})},[b(w,{position:"above"}),o(d).customLayout&&!o(u)?(t(),i(o(p),{key:0,node:f.node},null,8,["node"])):(t(),l("div",ie,[b(ce,{node:f.node,hovered:c.value,error:o(u)},null,8,["node","hovered","error"]),E("div",le,[o(u)?(t(),l("div",ue,L(o(u)),1)):(t(),i(o(p),{key:1,node:f.node},null,8,["node"]))])])),b(w,{position:"below"})],10,de))}}),pe={};function me(n,e){return t(),l("div",null,"Block loading...")}const fe=$(pe,[["render",me]]),he={key:0,class:R({"bitran-inliner":!0,"bitran-error":!0})},ke=["innerHTML"],be=m({__name:"Inliner",props:{node:{}},async setup(n){let e,r;const a=n,{ElementComponent:d,error:s}=([e,r]=v(()=>I(a.node)),e=await e,r(),e),c=h(a.node),_=([e,r]=v(()=>B(c)),e=await e,r(),e);return(p,u)=>o(s)?(t(),l("span",he,[E("span",{class:"bitran-inlinerErrorIcon",innerHTML:o(_)},null,8,ke),E("span",null,L(o(s)),1)])):(t(),i(o(d),{key:1,node:p.node},null,8,["node"]))}}),ve={};function ye(n,e){return t(),l("span",null,"Inliner loading...")}const Ee=$(ve,[["render",ye]]),Re=m({__name:"RenderElement",props:{node:{}},setup(n){const e=n,r=e.node instanceof U,a=X(),d=Y(),s=h(e.node),c=d.value?"client":e.node instanceof G||e.node instanceof P||s.ssr?"hybrid":"client",_=y=>q(y,{node:e.node}),p=_(r?_e:be),u=_(r?fe:Ee),f=N(!1);return C(()=>setTimeout(()=>f.value=!0,500)),(y,we)=>(t(),i(o(a),{mode:o(c)},{default:k(()=>[o(c)==="hybrid"?(t(),i(o(p),{key:0})):(t(),i(z,{key:1},{fallback:k(()=>[f.value?(t(),i(o(u),{key:0})):(t(),i(J(r?"div":"span"),{key:1}))]),default:k(()=>[b(o(p))]),_:1}))]),_:1},8,["mode"]))}}),$e=m({__name:"Render",props:{node:{}},setup(n){const e=n,r=(()=>{switch(!0){case e.node instanceof O:return ne;case e.node instanceof K:return Re;default:throw new Error(`Unsupported node "${e.node.constructor.name}"!`)}})();return(a,d)=>(t(),i(o(r),{node:a.node},null,8,["node"]))}});export{$e as _};
