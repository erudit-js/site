import{b as h,i as T,g as d,e as w}from"./jTRQ5ZsA.js";import{u as g}from"./jT1gPe9_.js";import{u as C}from"./CV_MqC8s.js";import{T as P,C as I,I as N}from"./d67F7LWj.js";import{f as x,g as v,aq as s,N as q,M as n,I as m,c as B,o as D,b as E,a as $,n as l,k as r,t as L,J as O,s as M,m as R,l as A,_ as S}from"./CiBNX5Fz.js";import{u as U}from"./DXezGLjV.js";import"./BPgHF7zz.js";const V=["href"],z=x({__name:"Link",props:{node:{}},async setup(_){let o,c;const{label:f}=g(),t=C(),u=O(),k=U(),y=([o,c]=v(async()=>(async()=>{const e=t.type;if(e==="unique")return s(q,{name:"link-icon",svg:await h(t._productName)});if(e==="absolute")return s(n,{name:"link"});if(e==="external")return s(n,{name:"link-external"});if(e==="page"){const a=t.pageType;if(T(a))return s(n,{name:P[a]});if(d(a))return s(n,{name:I[a]});switch(a){case"contributor":return s(n,{name:N.contributor})}return s(n,{name:"link"})}})()),o=await o,c(),o),p=(()=>{switch(t.type){case"absolute":case"external":return t.href;case"page":case"unique":return t._href}})();switch(t.type){case"page":m(`/api/preview/page${t._href}`);break;case"unique":m(`/api/preview/unique/${w(t._absoluteStrLocation)}`);break}const i={timeout:null,startTimeout(){this.timeout=setTimeout(()=>{this.reset()},400)},reset(){clearTimeout(this.timeout),this.timeout=null}};function b(e){return e.stopPropagation(),e.preventDefault(),i.timeout?(i.reset(),A(!1),window.open(u(p),"_blank"),!1):(M({type:R.Link,linkData:_.node.parseData,linkTarget:t}),i.startTimeout(),!1)}return(e,a)=>(D(),B("a",{href:r(u)(r(p)),class:l(e.$style.link),onClick:b,external:!0},[E(r(y),{class:l(e.$style.icon),wrapper:"span"},null,8,["class"]),$("span",{class:l(e.$style.label)},L(r(k)(r(f))),3)],10,V))}}),F="_link_b2ky3_1",J="_icon_b2ky3_20",Y="_label_b2ky3_28",j={link:F,icon:J,label:Y},G={$style:j},te=S(z,[["__cssModules",G]]);export{te as default};
